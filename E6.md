# Вариант E6

### Задание 1 (10 баллов)
Постройте конечный автомат, принимающий на ввод троичное число (цифры 0,1,2), вводимое со старших разрядов и заканчивающееся маркером конца `#`, и проверяющий, делится ли введённое число на 4. Например, по входу `1210#` должно быть выдано `ДА`, по входу `2120#` — `НЕТ`.

---

#### Решение

**См. Вариант Д5, Задание 1** — решение идентично.

**Ответ:**
```
Автомат A = ({q₀, q₁, q₂, q₃}, {0, 1, 2, #}, δ, q₀, {q₀})

δ(q₀, 0) = q₀    δ(q₀, 1) = q₁    δ(q₀, 2) = q₂
δ(q₁, 0) = q₃    δ(q₁, 1) = q₀    δ(q₁, 2) = q₁
δ(q₂, 0) = q₂    δ(q₂, 1) = q₃    δ(q₂, 2) = q₀
δ(q₃, 0) = q₁    δ(q₃, 1) = q₂    δ(q₃, 2) = q₃

При # в состоянии q₀ → «ДА», иначе → «НЕТ»
```

---

### Задание 2 (10 баллов)
Узника подвели к двум комнатам, в каждой из которых может оказаться либо принцесса, либо тигр. На каждой комнате прикреплена табличка. На первой написано: «По крайней мере, в одной из комнат находится принцесса». На второй написано: «Тигр в другой комнате». Дополнительно известно, что утверждение на двери ложно, если в комнате находится принцесса, и истинно, если в комнате находится тигр. С помощью формального анализа определите, в какой комнате находится принцесса.

---

#### Решение

**См. Вариант Д5, Задание 2** — подробное решение там.

**Ответ:** При стандартной интерпретации задача не имеет решения. Если правило для комнаты 2 обратное, то принцесса в **комнате 2**.

---

### Задание 3 (15 баллов)
Известны следующие факты: «Кошку Мурку могли убить только Том или Боб». Известно, что у Тома есть собака. Полагается также, что владельцы собак любят животных, а любители животных не убивают животных. На основе этих фактов проведите формальное доказательство методом резолюций того, что кошку Мурку убил Боб. Для доказательства явно сформулируйте необходимые подразумеваемые факты (например, что кошки — животные).

---

#### Решение

**См. Вариант Д5, Задание 3** — полное доказательство методом резолюций.

**Ответ:** Доказано, что кошку Мурку убил **Боб**.

---

### Задание 4 (10 баллов)
Для приведённых ниже двух фрагментов программ, а также данных предусловий и постусловий, найдите с помощью построения слабейшего предусловия wp такие выражения E, при которых фрагменты корректны.

| Предусловие I                             | Фрагмент программы S                | Постусловие R                        |
|-------------------------------------------|-------------------------------------|--------------------------------------|
| {True}                                    | s := E; i := 0;                     | {s = Σ_{0≤j≤i} b[j]}         |
| {i ≥ 0 & s = Σ_{0≤j≤i} a[j]}              | s := s + E; i := i+1;             | {i > 0 & s = Σ_{0≤j≤i} a[j]}          |

---

#### Решение

**См. Вариант Д5, Задание 4** — подробное вычисление wp.

**Ответ:** 
- Задача 1: **E = b[0]**
- Задача 2: **E = a[i+1]**

---

### Задание 5 (15 баллов)
Покажите, что следующие пары LTL-формул не эквивалентны, построив расчёт/вычисление, удовлетворяющее одной формуле и не удовлетворяющее другой:

a) FG p и G(p ⇒ X p)

b) FG p и ¬p U G p

c) p U ¬p и FG ¬p

---

#### Решение

**См. Вариант Д5, Задание 5** — подробные контрпримеры.

**Ответы:**
- a) σ = ∅, ∅, ... удовлетворяет G(p→Xp), но не FG p
- b) σ = {p}, ∅, {p}, {p}, ... удовлетворяет FG p, но не ¬p U G p
- c) σ = {p}, ∅, {p}, ∅, ... удовлетворяет p U ¬p, но не FG ¬p

---

### Задание 6 (10 баллов)
Пусть M = (S, S₀, R, AP, L) — структура Крипке:

S = {p, q, r, s};  S₀ = {p, r};
R = {(p, s), (q, r), (s, s), (q, s), (s, q), (r, p), (p, r)};
AP = {a, b, c};
L(p) = {a, b}, L(q) = {c}, L(r) = ∅, L(s) = {b}.

Проверьте, выполняется ли в M формула: M ⊨ EX AF (a ⇒ b)

---

#### Решение

**См. Вариант Д5, Задание 6** — подробный анализ.

a → b истинно во всех состояниях, поэтому AF(a → b) истинно везде, и EX AF(a → b) истинно в любом состоянии с исходящими переходами.

**Ответ:** Формула **M ⊨ EX AF(a → b) выполняется**.